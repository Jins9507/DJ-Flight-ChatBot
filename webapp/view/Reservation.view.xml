<mvc:View
	controllerName="dj.djchatbot.controller.Reservation"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
	xmlns:f="sap.f"
	xmlns:core="sap.ui.core"
	xmlns:smartForm="sap.ui.comp.smartform"
	xmlns:smartField="sap.ui.comp.smartfield"	
	xmlns:form="sap.ui.layout.form"
	xmlns:layout="sap.ui.layout"
	height="100%">
	<NavContainer id="navContainer">
		<pages>
			<f:DynamicPage
				id="dynamicPage"
				toggleHeaderOnTitleClick="{/titleClickable}"
				stickySubheaderProvider="ShoppingCartWizard"
				class="sapUiNoContentPadding"
				showFooter="true">
				<!-- DynamicPage Title -->
				<f:title>
					<f:DynamicPageTitle>
						<f:heading>
							<Title text="Reservation"/>
						</f:heading>
					</f:DynamicPageTitle>
				</f:title>
				<!-- DynamicPage Header -->
				<f:content>
					<Wizard id="ShoppingCartWizard"
					        class="sapUiResponsivePadding--header sapUiResponsivePadding--content"
					        complete="completedHandler"
					        height="auto"
					        enableBranching="true">
						<WizardStep
							id="ContentsStep"
							nextStep="PaymentTypeStep"
							title="Confirm Flight Information"
							icon="sap-icon://flight">
							<!-- <ObjectHeader
								icon="/images/testImage1.jpg"
								iconDensityAware="false"
								imageShape="Circle"
								responsive="true"
								intro="와~ 가격보소~"
								title="Total Cost"
								titleLevel="H1"
								number="{
									parts:[{path:'reserveModel>/total'},{path:'reserveModel>/reserve/currency'}],
									type: 'sap.ui.model.type.Currency',
									formatOptions: {showMeasure: false}
								}"
								numberUnit="{reserveModel>/reserve/currency}"	
								numberState="Information"	
								>
								<attributes>
									<ObjectAttribute text="This is the total cost of your journey"/>
								</attributes>
							</ObjectHeader> -->
							<ObjectHeader
								icon="/images/OliverSSam.jpg"
								imageShape="Circle"
								title="Total Cost"
								responsive="true"
								intro="This is the total cost of your journey"
								titleLevel="H1"
								number="{
									parts:[{path:'reserveModel>/total'},{path:'reserveModel>/reserve/currency'}],
									type: 'sap.ui.model.type.Currency',
									formatOptions: {showMeasure: false}
								}"
								numberUnit="{reserveModel>/reserve/currency}"	
								numberState="Information"	
								>
							</ObjectHeader>							
							<form:SimpleForm
								layout="ResponsiveGridLayout">
								<Label labelFor="rbg" text="Cabin Class" class="sapUiLargeMarginTop"/>								
								<RadioButtonGroup id="rbg" columns="5" valueState="Information" class="sapUiMediumMarginTop" select="onRbgSelect">
									<RadioButton id="RB3-1" text="Economy Class [ {reserveModel>/reserve/price} {reserveModel>/reserve/currency} ]"/>
									<RadioButton id="RB3-2" text="Business Class [ {reserveModel>/reserve/price_b} {reserveModel>/reserve/currency} ]" />
									<RadioButton id="RB3-3" text="First Class [ {reserveModel>/reserve/price_f} {reserveModel>/reserve/currency} ]" />
								</RadioButtonGroup>								
								<Label text="Flight number"/>
								<Text text="{reserveModel>/reserve/carrid}{reserveModel>/reserve/connid}"/>								
								<Label text="From"/>
								<Text text="{reserveModel>/reserve/cityfrom}"/>
								<Label text="To"/>
								<Text text="{reserveModel>/reserve/cityto}"/>						
								<Label text="Flight Date"/>
								<Text text="{ path : 'reserveModel>/reserve/fldate', formatter : '.formatDate' }"/>		
								<Label text="Departure Time"/>
								<Text text="{ path : 'reserveModel>/reserve/deptime', formatter : '.formatTime' }"/>		
								<Label text="Arrival Time"/>
								<Text text="{ path : 'reserveModel>/reserve/arrtime', formatter : '.formatTime' }"/>	
								<Label text="Passenger"/>
								<Text text="{routerModel>/Passenger}"/>																										
							</form:SimpleForm>
						</WizardStep>
						<WizardStep
							id="PaymentTypeStep"
							title="Payment type"
							subsequentSteps="CreditCardStep, BankAccountStep"
							complete="goToPaymentStep"
							icon="sap-icon://money-bills">
							<Text class="sapUiSmallMarginBottom"
							      text="We accept all major credit cards. No extra cost will be charged when paying with a credit card. Bank transfer are only possible. A service charge of 2.99 EUR will be charged for these types of deliveries. Be aware, that for Bank transfers, the shipping will start on the day after the payment is received."/>
							<HBox
								alignItems="Center"
								justifyContent="Center"
								width="100%">
								<SegmentedButton selectionChange="setPaymentMethod" id="paymentMethodSelection"
								                 selectedKey="{reserveModel>/payment}">
									<items>
										<SegmentedButtonItem key="Credit Card" icon="sap-icon://credit-card"
										                     text="Credit card"/>
										<SegmentedButtonItem key="Bank Transfer" icon="sap-icon://official-service"
										                     text="Bank transfer"/>
									</items>
								</SegmentedButton>
							</HBox>
						</WizardStep>
						<WizardStep
							id="CreditCardStep"
							title="Credit card info"
							nextStep="PassengerStep"
							activate="checkCreditCardStep"
							icon="sap-icon://credit-card">
							<MessageStrip text="Enter at least 3 symbols for credit card name."/>
							<form:SimpleForm
								editable="true"
								layout="ColumnLayout">
								<Label text="Name on card" required="true"/>
								<Input value="{reserveModel>/card/name}" liveChange="checkCreditCardStep"
								       valueLiveUpdate="true"/>
								<Label text="Card number"/>
								<Input value="{reserveModel>/card/number}"/>
								<Label text="Security code"/>
								<Input value="{reserveModel>/card/securityCode}"/>
								<Label text="Expiration date"/>
								<DatePicker value="{reserveModel>/card/expire}"/>
							</form:SimpleForm>
						</WizardStep>
						<WizardStep
							id="BankAccountStep"
							title="Beneficial bank info"
							nextStep="PassengerStep"
							icon="sap-icon://official-service">
							<Panel>
								<headerToolbar>
									<Toolbar height="0rem">
										<Title text=""/>
									</Toolbar>
								</headerToolbar>
								<layout:Grid
									defaultSpan="L6 M6 S10"
									hSpacing="2">
									<Label text="Beneficiary Name" design="Bold"/>
									<Label text="DJ Flight e-Commerce Service LTD"/>
									<Label text="Beneficiary Bank" design="Bold"/>
									<Label text="GUKMIN BANK, KOREA BRANCH"/>
									<Label text="Beneficiary Account Number" design="Bold"/>
									<Label text="06110702027218"/>
									<Label text="Bank Phone Number" design="Bold"/>
									<Label text="+8210-6224-2622"/>
									<Label text="Bank Email Address" design="Bold"/>
									<Label text="customerservice@gukmin.co.kr"/>
								</layout:Grid>
							</Panel>
						</WizardStep>
						<WizardStep
							id="PassengerStep"
							title="Passenger Infomation"
							subsequentSteps="DeliveryAddressStep, DeliveryTypeStep"
							activate="checkBillingStep"
							complete="billingAddressComplete"
							icon="sap-icon://person-placeholder">
							<MessageStrip text="Enter at least 3 symbols for each required field"/>
							<form:SimpleForm
								editable="true"
								layout="ColumnLayout">
								<Label text="Passport No." required="true"/>
								<Input value="{reserveModel>/passenger/passportNo}" liveChange="checkBillingStep"
								       valueLiveUpdate="true"/>
								<Label text="Name" required="true"/>
								<Input value="{reserveModel>/passenger/name}" liveChange="checkBillingStep"
								       valueLiveUpdate="true"/>
								<Label text="Birth" required="true"/>
								<DatePicker value="{reserveModel>/passenger/birth}"/>
								<Label text="Gender" required="true"/>
								<ComboBox
									items="{
										path: 'genderCombo>/text',
										sorter: { path: 'genderCombo>/text' }
									}">
									<core:Item key="{reserveModel>/passenger/passportNo}" text="{reserveModel>/passenger/passportNo}" />
								</ComboBox>															
								<Label text="Country" required="true"/>
								<Input value="{reserveModel>/passenger/country}" liveChange="checkBillingStep"
								       valueLiveUpdate="true"/>
								<Label text="Passport Expire Date" required="true"/>
								<DatePicker value="{reserveModel>/passenger/expire}"/>								   
							</form:SimpleForm>
						</WizardStep>
						<WizardStep
							id="DeliveryAddressStep"
							title="Delivery address"
							nextStep="DeliveryTypeStep"
							icon="sap-icon://sales-quote">
							<form:SimpleForm
								editable="true"
								layout="ColumnLayout">
								<Label text="Address"/>
								<Input/>
								<Label text="City"/>
								<Input/>
								<Label text="Zip Code"/>
								<Input/>
								<Label text="Country"/>
								<Input/>
								<Label text="Note"/>
								<TextArea rows="8"/>
							</form:SimpleForm>
						</WizardStep>
						<WizardStep
							id="DeliveryTypeStep"
							title="Delivery type"
							icon="sap-icon://insurance-car">
							<Text class="sapUiSmallMarginBottom"
							      text="Standard delivery will be delivered within 5 workdays. Be aware, that around high-season sales, standard delivery may take up to one additional day. Express delivery is delivered within 36 hours. A service fee of 5.49 EUR is charged for Express delivery on a workday. For a holiday delivery, the service fee is 8,00 EUR. Express delivery is only available for inland deliveries. All service fees vary for deliveries  abroad."/>
							<HBox
								alignItems="Center"
								justifyContent="Center"
								width="100%">
								<SegmentedButton selectedKey="{/selectedDeliveryMethod}">
									<items>
										<SegmentedButtonItem key="Standard Delivery" text="Standard"/>
										<SegmentedButtonItem key="Express Delivery" text="Express"/>
									</items>
								</SegmentedButton>
							</HBox>
						</WizardStep>
					</Wizard>
				</f:content>
				<!-- DynamicPage Footer -->
				<f:footer>
					<OverflowToolbar>
						<Button icon="sap-icon://message-popup"
						        text="현재 3 명의 고객이 해당 항공편 스케줄을 보고 있습니다."
						        type="Emphasized"
						        press="onMessageButtonPress"
						        visible="true"/>
						<ToolbarSpacer/>
						<Button type="Accept" text="Accept"/>
						<Button type="Reject" text="Reject"/>
					</OverflowToolbar>
				</f:footer>
			</f:DynamicPage>
			<Page id="wizardBranchingReviewPage" showHeader="false">
				<content>
					<form:SimpleForm
						title="1. List of products"
						minWidth="1024"
						editable="false"
						layout="ResponsiveGridLayout">
						<List items="{/ProductCollection}">
							<StandardListItem
								title="{Name}"
								type="Active"
								description="{Description}"
								icon="{ProductPicUrl}"
								info="{Price} {CurrencyCode}"
								iconDensityAware="false"
								iconInset="false"/>
						</List>
						<ObjectHeader
							title="Total"
							number="{/ProductsTotalPrice}"
							numberUnit="EUR">
							<attributes>
								<ObjectAttribute
									press="handleNavBackToList"
									active="true"
									text="Edit"/>
							</attributes>
						</ObjectHeader>
					</form:SimpleForm>
					<form:SimpleForm
						title="2. Payment type"
						minWidth="1024"
						editable="false"
						layout="ResponsiveGridLayout">
						<form:content>
							<Label text="Chosen payment type"/>
							<Text text="{/selectedPayment}"/>
							<Link press="handleNavBackToPaymentType" text="Edit"/>
						</form:content>
					</form:SimpleForm>

					<form:SimpleForm
						visible="{= ${/selectedPayment}==='Credit Card' ? true : false}"
						title="3. Credit Card payment"
						minWidth="1024"
						editable="false"
						layout="ResponsiveGridLayout">
						<form:content>
							<Label text="Name on card"/>
							<Text text="{/CreditCard/Name}"/>
							<Label text="Card number"/>
							<Text text="{/CardNumber}"/>
							<Label text="Security code"/>
							<Text text="{/CreditCard/SecurityCode}"/>
							<Label text="Expiration date"/>
							<Text text="{/CreditCard/Expire}"/>
							<Link press="handleNavBackToCreditCard" text="Edit"/>
						</form:content>
					</form:SimpleForm>

					<form:SimpleForm
						visible="{= ${/selectedPayment}==='Bank Transfer' ? true : false}"
						title="3. Bank Transfer"
						minWidth="1024"
						editable="false"
						layout="ResponsiveGridLayout">
						<form:content>
							<layout:Grid
								defaultSpan="L6 M6 S10"
								hSpacing="2">
								<Label text="Beneficiary Name" design="Bold"/>
								<Label text="Singapore Hardware e-Commerce LTD"/>
								<Label text="Beneficiary Bank" design="Bold"/>
								<Label text="CITY BANK, SINGAPORE BRANCH"/>
								<Label text="Beneficiary Account Number" design="Bold"/>
								<Label text="06110702027218"/>
								<Label text="Bank Phone Number" design="Bold"/>
								<Label text="+65-6224-2622"/>
								<Label text="Bank Email Address" design="Bold"/>
								<Label text="customerservice@citybank.com"/>
							</layout:Grid>
						</form:content>
					</form:SimpleForm>

					<form:SimpleForm
						visible="{= ${/selectedPayment}==='Cash on Delivery' ? true : false}"
						title="3. Cash on delivery"
						minWidth="1024"
						editable="false"
						layout="ResponsiveGridLayout">
						<form:content>
							<Label text="First Name"/>
							<Text text="{/CashOnDelivery/FirstName}"/>
							<Label text="Last Name"/>
							<Text text="{/CashOnDelivery/LastName}"/>
							<Label text="Phone number"/>
							<Text text="{/CashOnDelivery/Phone Number}"/>
							<Label text="Email address"/>
							<Text text="{/CashOnDelivery/Email}"/>
							<Link press="handleNavBackToCashOnDelivery" text="Edit"/>
						</form:content>
					</form:SimpleForm>

					<form:SimpleForm
						title="4. Billing Address"
						minWidth="1024"
						editable="false"
						layout="ResponsiveGridLayout">
						<form:content>
							<Label text="Address"/>
							<Text text="{/BillingAddress/Address}"/>
							<Label text="City"/>
							<Text text="{/BillingAddress/City}"/>
							<Label text="Zip Code"/>
							<Text text="{/BillingAddress/ZipCode}"/>
							<Label text="Country"/>
							<Text text="{/BillingAddress/Country}"/>
							<Label text="Note"/>
							<Text text="{/BillingAddress/Note}"/>
							<Link press="handleNavBackToBillingAddress" text="Edit"/>
						</form:content>
					</form:SimpleForm>

					<form:SimpleForm
						title="5. Delivery type"
						minWidth="1024"
						editable="false"
						layout="ResponsiveGridLayout">
						<form:content>
							<Label text="Chosen delivery type"/>
							<Text text="{/selectedDeliveryMethod}"/>
							<Link press="handleNavBackToDeliveryType" text="Edit"/>
						</form:content>
					</form:SimpleForm>
				</content>
				<footer>
					<Bar>
						<contentRight>
							<Button text="Submit" press="handleWizardSubmit"/>
							<Button text="Cancel" press="handleWizardCancel"/>
						</contentRight>
					</Bar>
				</footer>
			</Page>
		</pages>
	</NavContainer>
</mvc:View>